<!--
  Sourcerer: an infrastructure for large-scale source code analysis.
  Copyright (C) by contributors. See CONTRIBUTORS.txt for full list.
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program. If not, see <http://www.gnu.org/licenses/>.
 -->
<!-- @author Sushil Bajracharya (bajracharya@gmail.com) -->
<project name="Sourcerer Core Repomanager" default="all" basedir=".">
  <description>
    Build file for the core repomanager jar.
  </description>
  <property name="build" location="build" />

  <property name="core-repository-manager" location="./src" />

  <target name="init">
    <mkdir dir="${build}" />
  </target>

  <target name="compile-core-repomanager" depends="init">
    <javac destdir="${build}" debug="on">
	 <classpath>
	 	<pathelement path="${classpath}"/>
	    <fileset dir="lib">
	    <include name="**/*.jar"/>
	    </fileset>
      </classpath>	
      <src path="${core-repository-manager}" />
    </javac>
    <copy todir="${build}">
      <fileset dir="${core-repository-manager}" includes="**/*.java" />
    </copy>
  </target>

  <target name="core-repomanager" depends="compile-core-repomanager">
    <jar destfile="core-repomanager.jar" basedir="${build}" />
  </target>

  <target name="all" depends="core-repomanager" />

  <target name="clean" description="clean up">
    <delete dir="${build}" />
  </target>
</project>